<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="jungkosta.mappers.auction.AuctionMapper">


	<insert id="insertAuction" parameterType="AuctionVO">
		insert into
		auction_register
		(
		autcion_id, auction_stcost, immediate_bid_cost,
		register_date, auction_end_date,
		auction_end_status, sale_id
		) values
		(
		#{autcion_id}, #{auction_stcost}, #{immediate_bid_cost}, sysdate,
		#{auction_end_date}, #{auction_end_status}, #{sale_id}
		)
	</insert>


	<insert id="insertSale" parameterType="AuctionVO">
		insert into sale
		(
		sale_id,
		item_name, item_cost, buy_time, item_status, item_scratch,
		additional_info, buy_info, sale_date,
		item_pic1,item_pic2,item_pic3,item_pic4, email, subca_id,
		flag
		)
		values
		(
		#{sale_id}, #{item_name}, #{auction_stcost}, #{buy_time},
		#{item_status},
		#{item_scratch}, #{additional_info}, #{buy_info},
		sysdate,
		#{item_pic1},#{item_pic2},#{item_pic3},#{item_pic4}, #{email},
		#{subca_id}, #{flag}
		)
	</insert>

	<select id="selectAuction_id" resultType="Integer">
		select max(autcion_id)
		from auction_register
		</select>

	<select id="selectSale_id" resultType="Integer">
		select max(sale_id) from
		sale
	</select>

	<select id="read" resultType="AuctionVO">
		select * from auctionlist_view
		where sale_id = #{sale_id}
	</select>
	
	<select id="selectCategory" resultType="CategoryVO">
		select * from category_view
		where subca_id = #{subca_id}
	</select>


</mapper>